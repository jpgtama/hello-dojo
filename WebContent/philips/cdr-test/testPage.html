<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Test Select</title>
<style>
/* .dijitSelectLabel { */
/* 	width: 200px; */
/* 	overflow: hidden; */
/* } */
</style>
<link rel="stylesheet"
	href="/dojo-release-1.10.4-src/dijit/themes/claro/claro.css" />
<link rel="stylesheet"
	href="/dojo-release-1.10.4-src/dojox/layout/resources/GridContainer.css" />
<link rel="stylesheet"
	href="/dojo-release-1.10.4-src/dojox/layout/resources/DndGridContainer.css" />

<script type="text/javascript">
    dojoConfig = {
        baseUrl : '/dojo-release-1.10.4-src/dojo/',
        parseOnLoad : true,
        async : false,
        cacheBust : true,
        isDebug : true,
        paths : {
            app : '/hello-dojo/js/appWidget/app',
            js : '/hello-dojo/js/',
            jquery : '/dojo-release-1.10.4-src/jquery/jquery'
        }
    };
</script>
<script src="/dojo-release-1.10.4-src/dojo/dojo.js"></script>

<script>
    require(
            [
                'app/widget/cdr/select/CDRSelect',
                'app/widget/cdr/FieldParser',
                /* 'app/widget/cdr/Column', */
                'app/widget/cdr/Section',
                'app/widget/cdr/Section2',
                'app/widget/cdr/Page',
                'app/widget/cdr/Page2',
                'app/widget/cdr/CDRForm',
                'app/widget/cdr/CustomTabContainer',
                'dojox/layout/GridContainer',
                'dojox/uuid',
                "dijit/form/Select",
                'dijit/layout/ContentPane',
                'dijit/TitlePane',
                'dijit/layout/TabContainer',
                'dijit/registry',
                "dojo/data/ObjectStore",
                "dojo/dom-class",
                "dojo/dom-geometry",
                "dojo/dom-style",
                "dojo/store/Memory",
                'dojo/_base/array',
                'dojo/parser',
                "dojo/domReady!"
            ],
            function(CDRSelect, fieldParser, /*Column, */Section, Section2, Page, Page2, CDRForm, CustomTabContainer, GridContainer, uuid, Select,
                    ContentPane, TitlePane, TabContainer, registry, ObjectStore, domClass, domGeometry, domStyle, Memory, dojoArray, parser) {

                window.domClass = domClass;

                //         var tc = new TabContainer({
                //             style: "height: 100%; width: 100%;"
                //         }, "tabContainer");

                //         var cp1 = new ContentPane({
                //             title: "Food",
                //             content: "We offer amazing food"
                //        });
                //        tc.addChild(cp1);

                //        var cp2 = new ContentPane({
                //             title: "Drinks",
                //             content: "We are known for our drinks."
                //        });
                //        tc.addChild(cp2);

                //        tc.startup();

                //                 var cpane1 = new ContentPane({ title:"cpane1", content: "Content Pane 1 : Drag Me !" }),
                //                 cpane2 = new ContentPane({ title:"cpane2", content: "Content Pane 2 : Drag Me !" }),
                //                 cpane3 = new ContentPane({ title:"cpane3", content: "Content Pane 3 : Drag Me !" });

                //                 var widget = new GridContainer({
                //                 nbZones: 3,
                //                 isAutoOrganized: true
                //                 }, 'tabContainer');
                //                 widget.addChild(cpane1, 0, 0);
                //                 widget.addChild(cpane2, 1, 0);
                //                 widget.addChild(cpane3, 2, 1);
                //                 widget.startup();

            })
</script>

<style>
.fieldWrapper {
	display: inline-block;
	position: relative;
}

.fieldWrapper .iconBar {
	text-align: right;
}

.fieldWrapper:hover {
	
}

.fieldContainer {
	position: relative;
	display: inline-block;
	border-style: dotted;
	border-width: 2px;
	border-color: lightgray;
	display: inline-block;
}

.fieldContainer:hover {
	border-color: black;
}

.fieldContainer  .closeIcon {
	float: right;
}

.boxclose {
	background:
		url('/dojo-release-1.10.4-src/dijit/icons/images/commonIconsObjActEnabled.png')
		no-repeat -82px -2px;
	width: 12px;
	height: 12px;
	display: inline-block;
	cursor: pointer;
}

.props {
	background:
		url('/dojo-release-1.10.4-src/dijit/icons/images/commonIconsObjActEnabled.png')
		no-repeat -49px 0;
	width: 15px;
	height: 15px;
	display: inline-block;
	cursor: pointer;
}
</style>

</head>
<body class="claro">

	<h1>Test Page</h1>
	<hr />

	<div class="fieldWrapper" onmouseenter="fieldWrapperMouseEnter(event, this)"
		onmouseout="fieldWrapperMouseOut(event, this)" >
		<div class="iconBar">
			<a class="props"></a> <a class="boxclose"></a>
		</div>
		<div class="fieldContainer">
			<!-- 		<span class='closeIcon'>x</span> -->
			<div id="tabContainer"
				data-dojo-type="app/widget/cdr/select/CDRSelect"
				data-dojo-props="label: '民族', options: [ { label: '汉族', value: '101' }, { label: '蒙古族', value: '102' }, { label: '回族', value: '103' }  ] ">
			</div>
		</div>

	</div>

	<script type="text/javascript">
        function fieldWrapperMouseEnter(evt, dom) {
            var args = arguments;
            
            console.log('mouse enter');
            
            var _this = dom;
            // add class name to every children
            var handler = function(child) {
                if (!domClass.contains(child, 'fieldWrapperMouseEnter')) {
                    domClass.add(child, 'fieldWrapperMouseEnter');
                }

            }
            
            for(var i in _this.children){
            	var child = _this.children[i];
            	handler(child);
            }
            
        }

        function fieldWrapperMouseOut(evt, dom) {
			// remove class
            var _this = dom;
			debugger;
			console.log('mouse out');
			
			var handler = function(child) {
                if (domClass.contains(child, 'fieldWrapperMouseEnter')) {
                    domClass.remove(child, 'fieldWrapperMouseEnter');
                }
            }
			
			
            // remove class name to every children
			for(var i in _this.children){
            	var child = _this.children[i];
            	handler(child);
            }
        }
    </script>

</body>
</html>